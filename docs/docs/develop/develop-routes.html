<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Develop Routes - Develop - Stackpress Documentation</title><meta name="description" content="Routing is a popular server pattern to clearly define the accepted HTTP requests and how to handle their responses."/><meta property="og:title" content="Develop Routes - Develop - Stackpress Documentation"/><meta property="og:image" content="/images/icon.png"/><meta property="og:url" content="/docs/develop/develop-routes"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Develop Routes - Develop - Stackpress Documentation"/><meta name="twitter:image" content="/images/icon.png"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="stylesheet" type="text/css" href="/styles/global.css"/><link rel="stylesheet" type="text/css" href="/assets/develop-routes-DZMgo4S8.css"/>
  </head>
  <body>
    <div id="root"><link rel="preload" as="image" href="/icon.png"/><div class="dark relative overflow-hidden px-w-100-0 px-h-100-0 theme-bg-bg0 theme-tx1"><header class="theme-bg-bg1 duration-200 absolute px-h-60 px-r-0 px-t-0 px-l-220 rmd-px-l-0"><div class="flex items-center px-px-20 px-h-100-0"><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-bars"></i></button><div class="flex-grow"></div><button class="flex justify-center items-center b-0 px-mr-10 px-h-26 px-w-26 px-fs-18 rounded-full text-white bg-gray-600"><i class="fas fa-moon"></i></button></div></header><aside class="duration-200 flex flex-col px-h-100-0 px-z-100 absolute px-w-220 px-b-0 px-l-0 px-t-0 rmd-px-l--220"><header class="px-p-10 px-h-60 flex items-center theme-bg-bg0"><h3 class="flex-grow px-m-0"><a class="theme-tx1 flex items-center no-underline" href="/"><img src="/icon.png" class="px-w-40 px-h-40 px-mr-10"/><span class="uppercase px-fs-16">Stackpress</span></a></h3><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-chevron-left"></i></button></header><main class="theme-bg-bg1 flex-grow overflow-auto px-pt-10 px-pb-40"><div><a class="theme-muted block px-py-10 px-pl-20" href="/docs/introduction">Introduction</a><a class="theme-muted block px-py-10 px-pl-20" href="/docs/getting-started">Getting Started</a><a class="theme-muted block px-py-10 px-pl-20" href="/docs/tutorial">Tutorial</a></div><div><a href="/docs/develop/configure-project" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Develop</span><i class="theme-muted px-fs-12 fas fa-caret-down"></i></a><a class="theme-muted block px-py-10 px-pl-40" href="/docs/develop/configure-project">Configure Project</a><a class="theme-muted block px-py-10 px-pl-40" href="/docs/develop/customize-bootstrap">Customize Bootstrap</a><a class="theme-tx1 block px-py-10 px-pl-40 font-bold" href="/docs/develop/develop-routes">Develop Routes</a><a class="theme-muted block px-py-10 px-pl-40" href="/docs/develop/develop-events">Develop Events</a></div><div><a href="/docs/transform/form-idea" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Transform</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/toolkit/setup" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Toolkit</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/references/client-api" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">References</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div></main></aside><aside class="duration-200 absolute px-w-220 px-b-0 px-t-0 px-t-60 px-z-100 px-r-0 rlg-hidden"><div class="px-h-100-0 theme-bg-bg3 flex flex-col"><menu class="px-m-0 px-px-10 px-py-20 px-h-100-40 overflow-auto"><h6 class="theme-muted px-fs-14 px-mb-0 px-mt-0 px-pb-10 uppercase">On this page</h6><nav class="px-fs-14 px-lh-32"><a class="theme-tx0 block" href="#route-methods">Route Methods</a><a class="theme-tx0 block" href="#route-paths">Route Paths</a><a class="theme-tx0 block" href="#route-priority">Route Priority</a><a class="theme-tx0 block" href="#route-actions">Route Actions</a><a class="theme-tx0 block" href="#request-response">Request &amp; Response</a><a class="theme-tx0 block" href="#rendering-views">Rendering Views</a><a class="theme-tx0 block" href="#server-props">Server Props</a></nav></menu></div></aside><main class="theme-bg-bg0 duration-200 absolute px-b-0 px-t-60 px-l-220 rmd-px-l-0 px-r-220 rlg-px-r-0"><article class="px-h-100-0 overflow-auto px-px-20 px-pb-20 px-fs-15"><h1 class="px-fs-24 font-bold px-pt-40 px-pb-20">Develop Routes</h1><div class="px-lh-30 px-py-20 block">Routing is a popular server pattern to clearly define the accepted HTTP requests and how to handle their responses. The following code is an example of creating an app, a very basic route and starting the server.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><a id="route-methods"></a><h2 class="px-fs-16 font-bold px-pt-40">Route Methods</h2><section><div class="px-lh-30 px-py-20 block">A route method is derived from one of the HTTP methods, and is attached to an instance of the <!-- --> class. The following code is an example of routes that are defined for the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">GET</span></span> and the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">POST</span></span> methods to the root of the app.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The following route methods are supported.</div><ul class="px-lh-30 flex flex-wrap"><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li><li class="px-pb-20 px-px-10">• </li></ul><div class="px-lh-30 px-py-20 block">To accept any HTTP method, you can use the <!-- --> method. The following code is an example of a route that accepts any HTTP method to the root of the app.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">For any other HTTP method not naturally supported, you can still use the <!-- -->. All naturally supported routes eventually use this method. The following code is an example of a route that accepts the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">MOVE</span></span> method to the root of the app.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></section><a id="route-paths"></a><h2 class="px-fs-16 font-bold px-pt-40">Route Paths</h2><section><div class="px-lh-30 px-py-20 block">A route path is a string that defines the URL pathname for the accepted request. The following code is a very basic example of a route path that accepts the <!-- --> path as is.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">Route paths can also be formed as patterns to represent dynamic variable pathing. The following code is an example of a route path with a named variable called <!-- -->.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above example shows how the app accepts the <!-- --> method of the <!-- --> path. This means the following path examples are accepted.</div><ul class="px-lh-30 px-px-20"><li class="px-pb-20">• </li><li class="px-pb-20">• </li></ul><div class="px-lh-30 px-py-20 block">Where as <!-- --> would be <!-- -->, or <!-- -->. The <!-- --> parameter is a variable that can be extracted using the <!-- --> method. Another pattern called a wildcard <!-- --> can be used to match any single path segment.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of a route path that accepts the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">GET</span></span> method to the <!-- --> path. Unlike variable paths, the <!-- --> wildcard matches are nameless and thus denoted by numbers. This means the following path examples are accepted.</div><ul class="px-lh-30 px-px-20"><li class="px-pb-20">• </li><li class="px-pb-20">• </li></ul><div class="px-lh-30 px-py-20 block">Where as <!-- --> would be <!-- -->, or <!-- -->. A more powerful pattern than the <!-- --> is the <!-- --> rest pattern that matches any number of path segments.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of a route path that accepts the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">GET</span></span> method to the <!-- --> path. In this example, any requests pathnames that start with <!-- --> will be accepted. This means the following path examples are accepted <em class="font-italic">(but not limited to)</em>.</div><ul class="px-lh-30 px-px-20"><li class="px-pb-20">• </li><li class="px-pb-20">• </li></ul><div class="px-lh-30 px-py-20 block">The <!-- --> wildcard matches any single path segment, while the <!-- --> wildcard matches any number of path segments. The <!-- --> parameter is a variable that can be used to extract the value from the URL.</div></section><a id="route-priority"></a><h2 class="px-fs-16 font-bold px-pt-40">Route Priority</h2><section><div class="px-lh-30 px-py-20 block">A route priority is a number that determines the order in which the routes are executed. The higher the number, the higher the priority. The following code is an example of three routes with different priorities.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of three routes with different priorities. The first route has a priority of <!-- -->, the second route has a priority of <!-- -->, and the third route has a priority of <!-- -->. This means the first route will be executed first, followed by the second route, and finally the third route. The default priority is <!-- -->.</div></section><a id="route-actions"></a><h2 class="px-fs-16 font-bold px-pt-40">Route Actions</h2><section><div class="px-lh-30 px-py-20 block">A route action is a function that is executed when the route is matched. The following shows an example of a basic route action. Where the <!-- --> and<!-- --> are the <a href="/docs/references/request-class" class="theme-info underline ">Request</a>, and <a href="/docs/references/response-class" class="theme-info underline ">Response</a> objects, respectively.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The simplicity of the above code is what made this kind of routing popular, but it comes with a few issues.</div><ul class="px-lh-30 px-px-20"><li class="px-pb-20">• The actions are defined, but not necessarily used. Consider a serverless environment.</li><li class="px-pb-20">• No route mapping for bundlers. Cannot do tree shaking or code splitting for example.</li><li class="px-pb-20">• Cannot be used effectively with a module loader. The action is not a module, and thus cannot be loaded.</li></ul><div class="px-lh-30 px-py-20 block">Because of the reasons above, the <!-- --> method can also accept a function that returns an import. The following code is an example of a route action that returns a module.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of a route action that returns a module. The module is lazily loaded when the route is matched. Modules imported this way need to <!-- --> a function that accepts<!-- -->, <!-- --> and <!-- --> arguments.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">An easier way to create a route action is to use the<!-- --> function like the following code.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></section><a id="request-response"></a><h2 class="px-fs-16 font-bold px-pt-40">Request &amp; Response</h2><section><div class="px-lh-30 px-py-20 block">Unlike most server frameworks, the <a href="/docs/references/request-class" class="theme-info underline ">Request</a>, and <a href="/docs/references/response-class" class="theme-info underline ">Response</a> objects are not derrived from the native <strong class="font-bold">IncomingMessage</strong> and <strong class="font-bold">ServerResponse</strong> objects from <strong class="font-bold">NodeJS HTTP module</strong>. They are both designed to be generic payloads considering that payloads can come from different mediums. Take WebSockets, and CLI as well as HTTP, Fetch/WHATWG for example.</div><div class="frui-alert frui-curved frui-solid frui-thin frui-bd-info frui-tx-info px-lh-28"><i class="inline-block px-mr-5 fas fa-info-circle"></i><strong class="font-bold">NOTE:</strong> <!-- -->Another example could be the fact that Vercel sends <strong class="font-bold">WHATWG</strong> payloads and <strong class="font-bold">Google Cloud Functions</strong> sends <strong class="font-bold">NodeJS HTTP</strong> payloads. This means you would otherwise need to case for different scenarios.</div><div class="px-lh-30 px-py-20 block">Since the <!-- --> and <!-- --> objects act independantly from any medium, it&#x27;s better to strategize your code to not assume one in order for it to work across different sources.</div><div class="px-lh-30 px-py-20 block">You can learn more about requests in the <a href="/docs/references/request-class" class="theme-info underline ">Request Class</a> reference and you can learn more about responses in the <a href="/docs/references/response-class" class="theme-info underline ">Response Class</a> reference.</div></section><a id="rendering-views"></a><h2 class="px-fs-16 font-bold px-pt-40">Rendering Views</h2><section><div class="px-lh-30 px-py-20 block">A route action can also return a view. The following code is an example of a route action that renders a <strong class="font-bold">React</strong> template and sets the response with its <!-- -->.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of a route action that renders a <strong class="font-bold">React</strong> template and sets the response with its <!-- -->. The <!-- --> method accepts the view path and the view data. The view path can be a relative path or an absolute path. The <!-- --> at the start of <!-- --> denotes the current working directory <!-- -->. The view data is an object that contains the data to be passed to the view.</div><div class="px-lh-30 px-py-20 block">The file located at <!-- --> itself should <!-- --> a <strong class="font-bold">React</strong> component. The following code is an example of a <strong class="font-bold">React</strong> component that renders a simple <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">h1</span></span> element.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">While this is also a popular pattern to render views, it also comes with a major issue.</div><div class="px-lh-30 px-py-20 block"><strong class="font-semibold">The view is only known when the route is activated. This means the view cannot be analyzed by bundlers.</strong></div><div class="px-lh-30 px-py-20 block">If your project does require bundling, a better way to render views is to use the <!-- --> method with a string path to the view. The following code is an example of a route action that renders a view.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="frui-alert frui-curved frui-solid frui-thin frui-bd-info frui-tx-info px-lh-28"><i class="inline-block px-mr-5 fas fa-info-circle"></i><strong class="font-bold">NOTE:</strong> <!-- -->This is also a very efficient way to go from HTTP request to HTML response directly.</div></section><a id="server-props"></a><h2 class="px-fs-16 font-bold px-pt-40">Server Props</h2><section><div class="px-lh-30 px-py-20 block">If you want to pass server props while being able to bundle your views, a recommended routing strategy is to apply a server action and a view action for the same route like the following code.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">In the above code, we define a route that lazily imports a module that processes on the server side. Next we assign a view to the same route. We guarantee that the server action is executed before the view action using the priority settings of each route.</div><div class="frui-alert frui-curved frui-solid frui-thin frui-bd-info frui-tx-info px-lh-28"><i class="inline-block px-mr-5 fas fa-info-circle"></i><strong class="font-bold">NOTE:</strong> <!-- -->Setting the priorities this way will allow other plugins to control when to inject their actions ie. before, between or after your routes.</div><br/><div class="frui-alert frui-curved frui-solid frui-thin frui-bd-warning frui-tx-warning px-lh-24"><i class="inline-block px-mr-5 fas fa-exclamation-triangle"></i><strong class="font-bold">WARNING:</strong> <!-- -->As long as you dont have <strong class="font-semibold">200 actions</strong>, this should be safe...</div><div class="px-lh-30 px-py-20 block">Next you can pass the server props to the view using the<!-- --> method. The following code is an example of a route action that sets the server props.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code retrieves data from the <!-- --> method and sets the results via <!-- --> method. The view can then access the server props using the <!-- --> argument.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">The above code is an example of a <strong class="font-bold">React</strong> component that retrieves the server props from the <!-- --> argument. The<!-- --> argument is an object that contains the server props and is passed to the component when the component is rendered.</div><div class="px-lh-30 px-py-20 block">You can learn more about server props in the <a href="/docs/tutorial/4-server-props" class="theme-info underline ">tutorial</a> and you can also see more advance methods in the <a href="/docs/references/router-class" class="theme-info underline ">Router Class</a> reference.</div></section><nav class="flex"><a class="theme-primary px-py-40" href="/docs/develop/customize-bootstrap"><i class="fas fa-fw fa-chevron-left"></i>Customize Bootstrap</a><a class="theme-primary flex-grow text-right px-py-40" href="/docs/develop/develop-events">Develop Events<i class="fas fa-fw fa-chevron-right"></i></a></nav></article></main></div><section class="Toastify" aria-live="polite" aria-atomic="false" aria-relevant="additions text" aria-label="Notifications Alt+T"></section></div>
    <script id="props" type="text/json">{"data":{"view":{"base":"/","props":{}},"brand":{"name":"Stackpress","logo":"/logo.png","icon":"/icon.png","favicon":"/favicon.ico"},"language":{"key":"locale","locale":"en_US","languages":{"en_US":{"label":"EN","translations":{"Sign In":"Signin","Home Page":"Home Page"}},"th_TH":{"label":"TH","translations":{"Sign In":"Signin","Home Page":"Home Pagesss"}}}}},"session":{"id":0,"roles":["GUEST"],"token":"","permits":[{"method":"ALL","route":"/**"}]},"request":{"url":{"hash":"","host":"www.stackpress.io","hostname":"www.stackpress.io","href":"https://www.stackpress.io/docs/develop/develop-routes","origin":"https://www.stackpress.io","pathname":"/docs/develop/develop-routes","port":"","protocol":"https:","search":""},"headers":{},"session":{},"method":"GET","mime":"text/plain","data":{"0":"develop","1":"develop-routes"}},"response":{"code":200,"status":"OK","errors":{},"results":null,"total":0}}</script>
    <script type="module" src="/client/develop-routes-sokbIe8k.js"></script>
  </body>
</html>