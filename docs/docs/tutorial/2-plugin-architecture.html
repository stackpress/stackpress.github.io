<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. Plugin Archiecture - Stackpress Tutorial</title><meta name="description" content="The plugin architecture is a file structure pattern designed to separate the project code by unit feature."/><meta property="og:title" content="2. Plugin Archiecture - Stackpress Tutorial"/><meta property="og:image" content="/images/icon.png"/><meta property="og:url" content="/docs/tutorial/2-plugin-architecture"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="2. Plugin Archiecture - Stackpress Tutorial"/><meta name="twitter:image" content="/images/icon.png"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="stylesheet" type="text/css" href="/styles/global.css"/><link rel="stylesheet" type="text/css" href="/assets/2-plugin-architecture-DZMgo4S8.css"/>
  </head>
  <body>
    <div id="root"><link rel="preload" as="image" href="/icon.png"/><div class="dark relative overflow-hidden px-w-100-0 px-h-100-0 theme-bg-bg0 theme-tx1"><header class="theme-bg-bg1 duration-200 absolute px-h-60 px-r-0 px-t-0 px-l-220 rmd-px-l-0"><div class="flex items-center px-px-20 px-h-100-0"><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-bars"></i></button><div class="flex-grow"></div><button class="flex justify-center items-center b-0 px-mr-10 px-h-26 px-w-26 px-fs-18 rounded-full text-white bg-gray-600"><i class="fas fa-moon"></i></button></div></header><aside class="duration-200 flex flex-col px-h-100-0 px-z-100 absolute px-w-220 px-b-0 px-l-0 px-t-0 rmd-px-l--220"><header class="px-p-10 px-h-60 flex items-center theme-bg-bg0"><h3 class="flex-grow px-m-0"><a class="theme-tx1 flex items-center no-underline" href="/"><img src="/icon.png" class="px-w-40 px-h-40 px-mr-10"/><span class="uppercase px-fs-16">Stackpress</span></a></h3><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-chevron-left"></i></button></header><main class="theme-bg-bg1 flex-grow overflow-auto px-pt-10 px-pb-40"><div><a class="theme-muted block px-py-10 px-pl-20" href="/docs/introduction">Introduction</a><a class="theme-muted block px-py-10 px-pl-20" href="/docs/getting-started">Getting Started</a><a class="theme-tx1 block px-py-10 px-pl-20 font-bold" href="/docs/tutorial">Tutorial</a></div><div><a href="/docs/develop/configure-project" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Develop</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/transform/form-idea" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Transform</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/toolkit/setup" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Toolkit</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/references/client-api" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">References</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div></main></aside><aside class="duration-200 absolute px-w-220 px-b-0 px-t-0 px-t-60 px-z-100 px-r-0 rlg-hidden"><div class="px-h-100-0 theme-bg-bg3 flex flex-col"><menu class="px-m-0 px-px-10 px-py-20 overflow-auto"><h6 class="theme-muted px-fs-14 px-mb-0 px-mt-0 px-pb-10 uppercase">On this page</h6><nav class="px-fs-14 px-lh-32"><a class="theme-tx1 block" href="#development-config">2.1. Development Config</a><a class="theme-tx1 block" href="#app-plugin">2.2. App Plugin</a><a class="theme-tx1 block" href="#home-page-view">2.3. Home Page View</a><a class="theme-tx1 block" href="#plugin-list">2.4. Plugin List &amp; Scripts</a><a class="theme-tx1 block" href="#run-server">2.5. Run the Server</a><a class="theme-tx1 block" href="#checkpoint">2.6. Check Point</a></nav></menu></div></aside><main class="theme-bg-bg0 duration-200 absolute px-b-0 px-t-60 px-l-220 rmd-px-l-0 px-r-220 rlg-px-r-0"><article class="px-h-100-0 overflow-auto px-px-20 px-pb-20 px-fs-15"><h2 class="px-fs-16 font-bold px-pt-40">Recap</h2><section><div class="px-lh-30 px-py-20 block">The last section covered how to setup your project to a strict <strong class="font-bold">EcmaScript Module</strong> standard and provisioned packages that will be used in later tutorials. Get caught up by making sure your project looks like the following.</div><div class="relative px-h-400 px-fs-13"><div class="theme-bg-bg2 px-lh-30 absolute px-t-0 px-b-0 flex flex-col rsm-hidden px-w-140"><div class="px-p-5">PROJECT</div><div class="flex-grow overflow-auto px-pb-20"><div class="theme-bg-bg1 cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="theme-bg-bg3 overflow-x-auto absolute px-r-0 px-t-0 px-h-34 rsm-px-l-0 px-l-140"><div class="flex px-pt-5 px-px-3"><div class="bg-black text-white px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class=" rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></div><div class="px-lh-30 px-py-20 block">If you are all caught up, then you can proceed to the next section.</div></section><h1 class="px-fs-24 font-bold px-pt-40 px-pb-20">2. The Plugin Architecture</h1><section><div class="px-lh-30 px-py-20 block">The plugin architecture is a file structure pattern designed to separate the project code by unit feature. This allows developers to progressively toggle each one at any given time. This section will cover creating the first <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">app</span></span> plugin.</div><div class="frui-alert frui-curved frui-solid frui-thin frui-bd-info frui-tx-info px-lh-28"><i class="inline-block px-mr-5 fas fa-info-circle"></i><strong class="font-bold">NOTE:</strong> <!-- -->Stackpress remains unopinionated and the plugin architecture is just one of many ways on how one can structure a project.</div></section><a id="development-config"></a><h2 class="px-fs-16 font-bold px-pt-40">2.1. Development Config File</h2><section><div class="px-lh-30 px-py-20 block">From the project root, create a new file called <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">config/develop.ts</span></span> with the following code.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">This file will host all the configuration for the development piece of your application. In this case we just need to set <!-- --> to <!-- --> to enable ReactJS views and <!-- --> to <!-- --> because by default it&#x27;s <!-- -->. This tells future plugins what environment the project is currently in. Later sections will explain a <strong class="font-bold">build</strong> and <strong class="font-bold">preview</strong> configuration as well.</div></section><a id="app-plugin"></a><h2 class="px-fs-16 font-bold px-pt-40">2.2. App Plugin</h2><section><div class="px-lh-30 px-py-20 block">Next, from the project root, create a new file called <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">plugins/app/plugin.ts</span></span> with the following code.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">This file will be the entry point for your first plugin. Before starting the server, <strong class="font-bold">Stackpress</strong> will run a bootstrap process that will run the following events this exact order.</div><ol class="px-px-10 px-lh-30 px-pb-20"><li>1. <!-- --> - Allows all plugins to consume the configuration, and register themselves.</li><li>2. <!-- --> - Allows all plugins to add events to listen to.</li><li>3. <!-- --> - Allows all plugins to add routes to listen to.</li></ol><div class="px-lh-30 px-py-20 block">Specifically in the above example, a handler for <!-- --> was added in which we are now routing the path <!-- --> to the view <!-- --> where the <!-- --> means project root pathname.</div></section><a id="home-page-view"></a><h2 class="px-fs-16 font-bold px-pt-40">2.3. Home Page View</h2><section><div class="px-lh-30 px-py-20 block">Next from the project root, create a new file called <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">plugins/app/views/home.tsx</span></span> with the following code.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">This file will be the view for the home page. Valid views in <strong class="font-bold">Stackpress</strong> require the file to <!-- --> a <strong class="font-bold">React</strong> component. If you want to modify the head of the page, you can optionally export a <!-- --> function <strong class="font-bold">React</strong> component.</div></section><a id="plugin-list"></a><h2 class="px-fs-16 font-bold px-pt-40">2.4. Plugin List &amp; Scripts</h2><section><div class="px-lh-30 px-py-20 block">Before we are ready to test this, we need to add the app plugin to a plugin list. In the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">package.json</span></span> at the root of your project, add the following entries.</div><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="px-lh-30 px-py-20 block">When we run <!-- -->, <strong class="font-bold">Stackpress</strong> will execute a default bootstrap process that will register the given <!-- --> in the given order. The <!-- --> <em class="font-italic">(bootstrap)</em> flag tells the command to use the config found at <!-- -->. The <!-- --> flags will make the command verbose. Adding the <!-- --> plugin will provision all the optional toolsets to your application.</div></section><a id="run-server"></a><h2 class="px-fs-16 font-bold px-pt-40">2.5. Run the Server</h2><ol class="px-px-10 px-lh-30 px-py-20"><li>1. In Terminal, run </li><li>2. On your browser, visit <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">http://localhost:3000/</span></span></li></ol><a id="checkpoint"></a><h2 class="px-fs-16 font-bold px-pt-40">2.6. Check Point</h2><section><div class="px-lh-30 px-py-20 block">In case you got lost along the way, here is a checkpoint of what your project should look like.</div><div class="relative px-h-400 px-fs-13"><div class="theme-bg-bg2 px-lh-30 absolute px-t-0 px-b-0 flex flex-col rsm-hidden px-w-140"><div class="px-p-5">PROJECT</div><div class="flex-grow overflow-auto px-pb-20"><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>config</div><div class=" cursor-pointer flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>plugins</div><div class="flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>app</div><div class="flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>views</div><div class=" cursor-pointer flex items-center" style="padding-left:50px"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class=" cursor-pointer flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class="theme-bg-bg1 cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="theme-bg-bg3 overflow-x-auto absolute px-r-0 px-t-0 px-h-34 rsm-px-l-0 px-l-140"><div class="flex px-pt-5 px-px-3"><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class="bg-black text-white px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class=" rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></div><div class="px-lh-30 px-py-20 block">The next section will dive more into server and page routes.</div></section><nav class="flex"><a class="theme-primary px-py-40" href="/docs/tutorial/1-ecmascript"><i class="fas fa-fw fa-chevron-left"></i>1. EcmaScript</a><a class="theme-primary flex-grow text-right px-py-40" href="/docs/tutorial/3-server-routes">3. Server Routes<i class="fas fa-fw fa-chevron-right"></i></a></nav></article></main></div><section class="Toastify" aria-live="polite" aria-atomic="false" aria-relevant="additions text" aria-label="Notifications Alt+T"></section></div>
    <script id="props" type="text/json">{"data":{"view":{"base":"/","props":{}},"brand":{"name":"Stackpress","logo":"/logo.png","icon":"/icon.png","favicon":"/favicon.ico"},"language":{"key":"locale","locale":"en_US","languages":{"en_US":{"label":"EN","translations":{"Sign In":"Signin","Home Page":"Home Page"}},"th_TH":{"label":"TH","translations":{"Sign In":"Signin","Home Page":"Home Pagesss"}}}}},"session":{"id":0,"roles":["GUEST"],"token":"","permits":[{"method":"ALL","route":"/**"}]},"request":{"url":{"hash":"","host":"www.stackpress.io","hostname":"www.stackpress.io","href":"https://www.stackpress.io/docs/tutorial/2-plugin-architecture","origin":"https://www.stackpress.io","pathname":"/docs/tutorial/2-plugin-architecture","port":"","protocol":"https:","search":""},"headers":{},"session":{},"method":"GET","mime":"text/plain","data":{"0":"tutorial","1":"2-plugin-architecture"}},"response":{"code":200,"status":"OK","errors":{},"results":null,"total":0}}</script>
    <script type="module" src="/client/2-plugin-architecture-jHcJpNnd.js"></script>
  </body>
</html>