<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>4. Server Props - Stackpress Tutorial</title><meta name="description" content="Stackpress passes a standard set of server props to all views in order to make it predictable and thus templating easier."/><meta property="og:title" content="4. Server Props - Stackpress Tutorial"/><meta property="og:image" content="/images/icon.png"/><meta property="og:url" content="/"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="4. Server Props - Stackpress Tutorial"/><meta name="twitter:image" content="/images/icon.png"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="stylesheet" type="text/css" href="/styles/global.css"/><link rel="stylesheet" type="text/css" href="/assets/4-server-props-Ccr6eYWn.css"/>
  </head>
  <body>
    <div id="root"><link rel="preload" as="image" href="/icon.png"/><div class="light relative overflow-hidden px-w-100-0 px-h-100-0 theme-bg-bg0 theme-tx1"><header class="theme-bg-bg1 duration-200 absolute px-h-60 px-r-0 px-t-0 px-l-220 rmd-px-l-0"><div class="flex items-center px-px-20 px-h-100-0"><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-bars"></i></button><div class="flex-grow"></div><button class="flex justify-center items-center b-0 px-mr-10 px-h-26 px-w-26 px-fs-18 rounded-full text-white bg-orange-600"><i class="fas fa-sun"></i></button></div></header><aside class="duration-200 flex flex-col px-h-100-0 px-z-100 absolute px-w-220 px-b-0 px-l-0 px-t-0 rmd-px-l--220"><header class="px-p-10 px-h-60 flex items-center theme-bg-bg0"><h3 class="flex-grow px-m-0"><a class="theme-tx1 flex items-center no-underline" href="/"><img src="/icon.png" class="px-w-40 px-h-40 px-mr-10"/><span class="uppercase px-fs-16">Stackpress</span></a></h3><button class="theme-tx1 md-hidden b-0 p-0 bg-transparent text-xl"><i class="fas fa-chevron-left"></i></button></header><main class="theme-bg-bg1 flex-grow overflow-auto px-pt-10 px-pb-40"><div><a class="theme-muted block px-py-10 px-pl-20" href="/docs/introduction">Introduction</a><a class="theme-muted block px-py-10 px-pl-20" href="/docs/getting-started">Getting Started</a><a class="theme-muted block px-py-10 px-pl-20" href="/docs/tutorial">Tutorial</a></div><div><a href="/docs/toolkit/setup" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">Toolkit</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div><div><a href="/docs/references/client-api" class="theme-tx1 theme-bg-bg2 theme-bc-bd1 font-semibold px-fs-16 uppercase px-mb-0 px-mt-0 px-py-12 px-px-20 flex items-center"><span class="flex-grow">References</span><i class="theme-muted px-fs-12 fas fa-caret-left"></i></a></div></main></aside><aside class="duration-200 absolute px-w-220 px-b-0 px-t-0 px-t-60 px-z-100 px-r-0 rlg-hidden"><div class="px-h-100-0 theme-bg-bg3 flex flex-col"><menu class="px-m-0 px-px-10 px-py-20 overflow-auto"><h6 class="theme-muted px-fs-14 px-mb-0 px-mt-0 px-pb-10 uppercase">On this page</h6><nav class="px-fs-14 px-lh-32"><a class="theme-tx1 block" href="#get-server-props">4.1. Get Server Props</a><a class="theme-tx1 block" href="#custom-server-props">4.2. Custom Server Props</a><a class="theme-tx1 block" href="#checkpoint">4.3. Check Point</a></nav></menu></div></aside><main class="theme-bg-bg0 duration-200 absolute px-b-0 px-t-60 px-l-220 rmd-px-l-0 px-r-220 rlg-px-r-0"><article class="px-h-100-0 overflow-auto px-px-20 px-pb-20 px-fs-15"><h2 class="px-fs-16 font-bold px-pt-40">Recap</h2><section><p class="px-lh-30 px-py-20 block">The last section covered how to add a page route in the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">app</span></span> plugin and how a view can consume the response. Get caught up by making sure your project looks like the following.</p><div class="relative px-h-400 px-fs-13"><div class="theme-bg-bg2 px-lh-30 absolute px-t-0 px-b-0 flex flex-col rsm-hidden px-w-140"><div class="px-p-5">PROJECT</div><div class="flex-grow overflow-auto px-pb-20"><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>config</div><div class=" cursor-pointer flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>plugins</div><div class="flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>app</div><div class="flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>pages</div><div class=" cursor-pointer flex items-center" style="padding-left:50px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>home.ts</div><div class="flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>views</div><div class="theme-bg-bg1 cursor-pointer flex items-center" style="padding-left:50px"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class=" cursor-pointer flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="theme-bg-bg3 overflow-x-auto absolute px-r-0 px-t-0 px-h-34 rsm-px-l-0 px-l-140"><div class="flex px-pt-5 px-px-3"><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>home.ts</div><div class="bg-black text-white px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class=" rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></div><p class="px-lh-30 px-py-20 block">If you are all caught up, then you can proceed to the next section.</p></section><h1 class="px-fs-24 font-bold px-pt-40 px-pb-20">4. Server Props</h1><section><p class="px-lh-30 px-py-20 block">By default, Stackpress will pass the following props to both the <!-- --> and the <!-- --> function component for all views.</p><ul class="px-lh-30 px-px-20"><li>• <!-- --> - User session data. <!-- --> by default.</li><li>• <!-- --> - Serialized version of the request object</li><li>• <!-- --> - Serialized version of the response object</li><li>• <!-- --> - Template only data to pass to the view</li><li>• <!-- --> - A list of styles that should be added to the <!-- --> function component</li></ul><p class="px-lh-30 px-py-20 block">The following describes the exact type specifics of the server props.</p><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></section><a id="get-server-props"></a><h2 class="px-fs-16 font-bold px-pt-40">4.1. Get Server Props</h2><section><p class="px-lh-30 px-py-20 block">In your view files, you can access the server props like this.</p><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></section><a id="custom-server-props"></a><h2 class="px-fs-16 font-bold px-pt-40">4.2. Custom Server Props</h2><section><p class="px-lh-30 px-py-20 block">Let&#x27;s change the <span class="inline"><span class="theme-tx1 theme-bg-bg2 inline-block px-px-6 rounded px-lh-24">plugins/app/pages/home.ts</span></span> file with the following code.</p><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><p class="px-lh-30 px-py-20 block">Adding <!-- --> will add a new key to the data object that will be passed to the view. You can add any other key to the data object in the same fashion for the view to consume it. This is useful for passing all template related data to the view that is not necessarily part of the request or response objects. In your view file, you can access the template related props like this.</p><div class="bg-black text-white px-mb-20 px-fs-13" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></section><a id="checkpoint"></a><h2 class="px-fs-16 font-bold px-pt-40">4.3. Check Point</h2><section><p class="px-lh-30 px-py-20 block">In case you got lost along the way, here is a checkpoint of what your project should look like.</p><div class="relative px-h-400 px-fs-13"><div class="theme-bg-bg2 px-lh-30 absolute px-t-0 px-b-0 flex flex-col rsm-hidden px-w-140"><div class="px-p-5">PROJECT</div><div class="flex-grow overflow-auto px-pb-20"><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>config</div><div class=" cursor-pointer flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>plugins</div><div class="flex items-center" style="padding-left:20px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>app</div><div class="flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>pages</div><div class=" cursor-pointer flex items-center" style="padding-left:50px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>home.ts</div><div class="flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-chevron-down"></i>views</div><div class="theme-bg-bg1 cursor-pointer flex items-center" style="padding-left:50px"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class=" cursor-pointer flex items-center" style="padding-left:35px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class=" cursor-pointer flex items-center" style="padding-left:5px"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="theme-bg-bg3 overflow-x-auto absolute px-r-0 px-t-0 px-h-34 rsm-px-l-0 px-l-140"><div class="flex px-pt-5 px-px-3"><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>develop.ts</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>home.ts</div><div class="bg-black text-white px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fab fa-react"></i>home.tsx</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>plugin.ts</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>package.json</div><div class="theme-bg-bg1 px-mr-3 px-py-5 px-px-16 inline-block whitespace-nowrap cursor-pointer"><i class="inline-block px-fs-10 px-mr-5 fas fa-file"></i>tsconfig.json</div></div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class=" rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div><div class="hidden rsm-px-l-0 bg-black text-white overflow-auto !absolute px-r-0 px-b-0 px-t-34 px-l-140" style="position:relative"><div style="text-align:right;padding:10px 10px 0 0;color:inherit;cursor:pointer;white-space:nowrap"><span>❐</span> Copy</div></div></div><p class="px-lh-30 px-py-20 block">The next section will provide a guide to setting up the view engine.</p></section><nav class="flex"><a class="theme-primary px-py-40" href="/docs/tutorial/3-server-routes"><i class="fas fa-fw fa-chevron-left"></i>3. Server Routes</a><a class="theme-primary flex-grow text-right px-py-40" href="/docs/tutorial/5-view-engine">5. View Engine<i class="fas fa-fw fa-chevron-right"></i></a></nav></article></main></div><section class="Toastify" aria-live="polite" aria-atomic="false" aria-relevant="additions text" aria-label="Notifications Alt+T"></section></div>
    <script id="props" type="text/json">{"data":{"view":{"base":"/","props":{}},"brand":{"name":"Stackpress","logo":"/logo.png","icon":"/icon.png","favicon":"/favicon.ico"},"language":{"key":"locale","locale":"en_US","languages":{"en_US":{"label":"EN","translations":{"Sign In":"Signin","Home Page":"Home Page"}},"th_TH":{"label":"TH","translations":{"Sign In":"Signin","Home Page":"Home Pagesss"}}}}},"session":{"id":0,"roles":["GUEST"],"token":"","permits":[{"method":"ALL","route":"/**"}]},"request":{"url":{"hash":"","host":"unknownhost","hostname":"unknownhost","href":"http://unknownhost/","origin":"http://unknownhost","pathname":"/","port":"","protocol":"http:","search":""},"headers":{},"session":{},"method":"GET","mime":"text/plain","data":{"0":"tutorial","1":"4-server-props"}},"response":{"code":200,"status":"OK","errors":{},"results":null,"total":0}}</script>
    <script type="module" src="/client/4-server-props-FYbqgme4.js"></script>
  </body>
</html>